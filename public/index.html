<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Pemilihan Komandan PASKAPADA</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0f2027, #294bd3, #2c5364);
      color: #fff;
    }

    /* HERO */
    .hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
      padding: 80px 0;
    }

    .glass {
      
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      box-shadow: 0 25px 50px rgba(0,0,0,.4);
      padding: 50px;
    }

    .hero h1 {
      font-weight: 700;
      font-size: 3rem;
    }

    .hero p {
      color: #d1d5db;
    }
    .logo-wrapper {
  display: flex;
  justify-content: center;
  margin-bottom: 25px;
}

.logo-wrapper img {
  width: 240px;
  height: auto;
  filter: drop-shadow(0 0 20px rgba(255, 193, 7, 0.6));
  transition: transform .3s ease;
}

.logo-wrapper img:hover {
  transform: scale(1.05);
}


    .badge-secure {
      background: linear-gradient(135deg,#0d6efd,#20c997);
      border-radius: 50px;
      padding: 6px 14px;
      font-size: 14px;
      display: inline-block;
      margin-bottom: 15px;
    }
    

    /* TOKEN */
    .token-input {
      border-radius: 50px;
      padding: 14px;
      text-align: center;
      font-size: 18px;
      background: rgba(255,255,255,0.15);
      border: none;
      color: #fff;
    }

    .token-input::placeholder {
      color: #ccc;
    }

    .token-input:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(13,110,253,.4);
  background: rgba(255,255,255,.25);
}


    /* CARD KANDIDAT */
    .candidate-card {
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(12px);
      border-radius: 18px;
      overflow: hidden;
      transition: all .3s;
      border: 7px solid rgba(255,255,255,.1);
      
    }

   .candidate-card {
  position: relative;
  
}

.candidate-card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 18px;
  background: linear-gradient(135deg,#3714c39a,#6e21e1);
  opacity: 0;
  z-index: -1;
  filter: blur(25px);
  transition: opacity .4s;
}

.candidate-card:hover::before {
  opacity: .6;
}

.candidate-card:hover {
  transform: translateY(-12px) scale(1.02);
}


   .candidate-card img {
  height: 240;
  width: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
   transition: transform .4s ease, filter .4s ease;
}


    .candidate-card h5 {
      font-weight: 600;
    }

.visi-misi {
  max-width: 700px;
  margin: auto;
  text-align: center;
}

.text-full {
  margin-top: 10px;
  opacity: 1;
  transition: all 0.3s ease;
}

.hidden {
  display: none;
}

.read-more-btn {
  margin-top: 10px;
  background: none;
  border: none;
  color: #4f8cff;
  font-weight: 600;
  cursor: pointer;
}

.read-more-btn:hover {
  text-decoration: underline;
}


.btn {
  transition: all .3s ease;
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0,0,0,.3);
}


    footer {
      text-align: center;
      padding: 40px 0;
      color: #bbb;
      font-size: 14px;
    }

    /* ANIMASI MASUK */
.fade-up {
  opacity: 0;
  transform: translateY(30px);
  animation: fadeUp .8s ease forwards;
}

@keyframes fadeUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

  </style>
</head>

<script>
  function toggleText(button) {
    const fullText = button.previousElementSibling;

    if (fullText.classList.contains("hidden")) {
      fullText.classList.remove("hidden");
      button.textContent = "Read less";
    } else {
      fullText.classList.add("hidden");
      button.textContent = "Read more";
    }
  }
</script>

<body>

<!-- HERO + INTRO -->
<section class="hero">
  <div class="container">
    <div class="glass text-center mb-5">
      <div class="logo-wrapper">
  <img src="pskpd.png" alt="Logo PASKAPADA">
</div>

      <span class="badge-secure">üîê Secure Token Based Voting</span>
      <h1 class="mb-4">PEMILU PASKAPADA</h1>
      <p class="fs-5 mb-4">
"Halo rekan-rekan <strong>PASKAPADA</strong>!      </p>
<P>
Saatnya kita menentukan siapa yang akan memimpin langkah kita ke depan. Gunakan hati nurani dan logika dalam memilih calon Komandan terbaik.
Ingat, setiap pemilih hanya memiliki 1 kesempatan dengan 1 token unik. Gunakan kesempatan ini sebaik-baiknya karena suara yang sudah masuk tidak dapat diubah kembali.
</P>
<p>
  <strong>"SELAMAT MEMILIH"</strong>
</p>

      <div class="alert alert-warning bg-transparent border-warning text-warning">
        ‚ö†Ô∏è Pilihan yang telah dikirim <strong>tidak dapat diubah</strong>
      </div>

      <!-- TOKEN INPUT -->
      <div class="row justify-content-center mt-4">
        <div class="col-md-5">
          <input type="text" id="token" class="form-control token-input"
                 placeholder="Masukkan Token Voting">
        </div>
      </div>
    </div>

    <!-- KANDIDAT -->
    <div class="row g-4">

      <!-- Kandidat 1 -->
      <div class="col-12">
        <div class="candidate-card h-100">
          <img src="images.png"> 
          <div class="p-4">
            <h5 class="text-center mb-3">AMADEA ZASKIA</h5>
<section class="visi-misi">
  <h4>VISI</h4>

  <p class="text-preview">
    mewujudkan PASKAPADA sebagai organisasi yang disiplin,tangguh,dan kepemimpinan yang beretika kepada seluruh anggota.
  </p>

  <h6>MISI</h6>
  <p class="text-full hidden">
    <strong>Menanamkan</strong> sikap disiplin,tangguh kepada seluruh anggota.
    | <strong>Melatih</strong> kekompakan,ketangguhan,fisik,dan mental kepada setiap anggota melalui latihan rutin dan kegiatan organisasi.
| <strong>Latihan</strong> dasar PBB dan pengetahuan umum PASKAPADA kepada Angkatan selanjutnya.
  </p>

  <button class="read-more-btn" onclick="toggleText(this)">
    Read more
  </button>
</section>
            <button class="btn btn-primary w-100 btn-vote"
              onclick="openConfirm('kandidat1','Kandidat 1')">
              Vote Kandidat 1
            </button>
          </div>
        </div>
      </div>

      <!-- Kandidat 2 -->
      <div class="col-12">
        <div class="candidate-card h-100">
          <img src="gibran.png">
          <div class="p-4">
            <h5 class="text-center mb-3">DAVID AMINO</h5>
<section class="visi-misi">
  <h4>VISI</h4>

  <p class="text-preview">
   Menjadikan PASKAPADA organisasi sekolah yang berprestasi nasional, berintegritas, patriotik, dan menjadi teladan.
  </p>

  <h6>MISI</h6>
  <p class="text-full hidden">
Membina karakter anggota yang disiplin, tangguh, nasionalis, serta berintegritas dan bertanggung jawab.
| <strong>Memupuk</strong> kebersamaan, solidaritas, dan semangat kekeluargaan melalui kontribusi untuk kemajuan bersama.
| <strong>Meningkatkan</strong> profesionalisme dan keterampilan PBB
| <strong>Menjalin</strong> hubungan harmonis dengan seluruh organisasi sekolah dan berdedikasi menjaga martabat sekolah melalui prestasi berkelanjutan.
  </p>

  <button class="read-more-btn" onclick="toggleText(this)">
    Read more
  </button>
</section>
            <button class="btn btn-success w-100 btn-vote"
              onclick="openConfirm('kandidat2','Kandidat 2')">
              Vote Kandidat 2
            </button>
          </div>
        </div>
      </div>

      <!-- Kandidat 3 -->
      <div class="col-12">
        <div class="candidate-card h-100">
          <img src="jokowi.png">
          <div class="p-4">
            <h5 class="text-center mb-3">ERIC MAULANA</h5>
            <section class="visi-misi">
  <h4>VISI</h4>

  <p class="text-preview">
   Menjadikan PASKAPADA sebagai organisasi yang disiplin, solid, berkarakter, berprestasi, serta mampu menjalankan tugas dengan tanggung jawab tinggi, loyalitas, dan jiwa kepemimpinan.
  </p>

  <h6>MISI</h6>
  <p class="text-full hidden">
<strong>Menanamkan</strong> disiplin, tanggung jawab, dan sikap nasionalisme kepada seluruh anggota PASKAPADA.
| <strong>Membentuk </strong>pasukan yang kompak, saling menghargai, dan solid dalam setiap kegiatan.
| <strong> Menjaga</strong> nama baik PASKAPADA dan sekolah di dalam maupun di luar lingkungan sekolah.
  </p>

  <button class="read-more-btn" onclick="toggleText(this)">
    Read more
  </button>
</section>

             
            <button class="btn btn-warning w-100 btn-vote"
              onclick="openConfirm('kandidat3','Kandidat 3')">
              Vote Kandidat 3
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- MODAL -->
<div class="modal fade" id="confirmModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-dark">
      <div class="modal-header">
        <h5 class="modal-title">Konfirmasi Voting</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        Apakah Anda yakin memilih <strong id="candidateName"></strong>?
        <p class="text-danger mt-2">‚ö†Ô∏è Pilihan tidak dapat diubah</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
        <button class="btn btn-primary" onclick="confirmVote()">Ya, Vote</button>
      </div>
    </div>
  </div>
</div>

<footer>
  ¬© 2026 PASKAPADA Digital
</footer>

<script>
  let selectedChoice = "";
  let modal;

  function openConfirm(choice, name) {
    const token = document.getElementById("token").value.trim();
    if (!token) {
      alert("Silakan masukkan token terlebih dahulu");
      return;
    }
    selectedChoice = choice;
    document.getElementById("candidateName").innerText = name;
    modal = new bootstrap.Modal(document.getElementById("confirmModal"));
    modal.show();
  }

  async function confirmVote() {
    const token = document.getElementById("token").value.trim();

    try {
      const res = await fetch("/vote", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ token, choice: selectedChoice })
      });

      const data = await res.json();

      if (!res.ok) {
        alert(data.message);
        return;
      }

      alert("Voting berhasil!");
      window.location.href = "success.html";
    } catch {
      alert("Gagal menghubungi server");
    }
  }
</script>

</body>
</html>
