<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Pemilihan Komandan PASKAPADA</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #fff;
    }

    /* HERO */
    .hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
      padding: 80px 0;
    }

    .glass {
      
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      box-shadow: 0 25px 50px rgba(0,0,0,.4);
      padding: 50px;
    }

    .hero h1 {
      font-weight: 700;
      font-size: 3rem;
    }

    .hero p {
      color: #d1d5db;
    }
    .logo-wrapper {
  display: flex;
  justify-content: center;
  margin-bottom: 25px;
}

.logo-wrapper img {
  width: 240px;
  height: auto;
  filter: drop-shadow(0 0 20px rgba(255, 193, 7, 0.6));
  transition: transform .3s ease;
}

.logo-wrapper img:hover {
  transform: scale(1.05);
}


    .badge-secure {
      background: linear-gradient(135deg,#0d6efd,#20c997);
      border-radius: 50px;
      padding: 6px 14px;
      font-size: 14px;
      display: inline-block;
      margin-bottom: 15px;
    }
    

    /* TOKEN */
    .token-input {
      border-radius: 50px;
      padding: 14px;
      text-align: center;
      font-size: 18px;
      background: rgba(255,255,255,0.15);
      border: none;
      color: #fff;
    }

    .token-input::placeholder {
      color: #ccc;
    }

    .token-input:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(13,110,253,.4);
  background: rgba(255,255,255,.25);
}


    /* CARD KANDIDAT */
    .candidate-card {
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(12px);
      border-radius: 18px;
      overflow: hidden;
      transition: all .3s;
      border: 1px solid rgba(255,255,255,.1);
    }

   .candidate-card {
  position: relative;
}

.candidate-card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 18px;
  background: linear-gradient(135deg,#0d6efd,#20c997);
  opacity: 0;
  z-index: -1;
  filter: blur(25px);
  transition: opacity .4s;
}

.candidate-card:hover::before {
  opacity: .6;
}

.candidate-card:hover {
  transform: translateY(-12px) scale(1.02);
}


   .candidate-card img {
  height: 220px;
  width: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
   transition: transform .4s ease, filter .4s ease;
}


    .candidate-card h5 {
      font-weight: 600;
    }

.btn {
  transition: all .3s ease;
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0,0,0,.3);
}


    footer {
      text-align: center;
      padding: 40px 0;
      color: #bbb;
      font-size: 14px;
    }

    /* ANIMASI MASUK */
.fade-up {
  opacity: 0;
  transform: translateY(30px);
  animation: fadeUp .8s ease forwards;
}

@keyframes fadeUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

  </style>
</head>
<body>

<!-- HERO + INTRO -->
<section class="hero">
  <div class="container">
    <div class="glass text-center mb-5">
      <div class="logo-wrapper">
  <img src="pskpd.png" alt="Logo PASKAPADA">
</div>

      <span class="badge-secure">üîê Secure Token Based Voting</span>
      <h1 class="mb-4">PEMILU PASKAPADA</h1>
      <p class="fs-5 mb-4">
        Platform pemilihan modern yang dikembangkan oleh <strong>PASKAPADA</strong> yang <strong>aman</strong>, <strong>transparan</strong>,
        dan <strong>mudah digunakan</strong>.  
        Setiap pemilih hanya dapat melakukan voting <strong>satu kali</strong>
        menggunakan token unik dari panitia.
      </p>

      <div class="alert alert-warning bg-transparent border-warning text-warning">
        ‚ö†Ô∏è Pilihan yang telah dikirim <strong>tidak dapat diubah</strong>
      </div>

      <!-- TOKEN INPUT -->
      <div class="row justify-content-center mt-4">
        <div class="col-md-5">
          <input type="text" id="token" class="form-control token-input"
                 placeholder="Masukkan Token Voting">
        </div>
      </div>
    </div>

    <!-- KANDIDAT -->
    <div class="row g-4">

      <!-- Kandidat 1 -->
      <div class="col-md-4">
        <div class="candidate-card h-100">
          <img src="images.jpg"> 
          <div class="p-4">
            <h5 class="text-center mb-3">Kandidat 1</h5>
            <p><strong>Visi:</strong> Pemimpin inovatif.</p>
            <ul>
              <li>Meningkatkan kualitas</li>
              <li>Mengayomi anggota</li>
            </ul>
            <p><strong>misi:</strong> </p>
            <ul>
              <li>Meningkatkan kualitas</li>
              <li>Mengayomi anggota</li>
            </ul>
            <button class="btn btn-primary w-100 btn-vote"
              onclick="openConfirm('kandidat1','Kandidat 1')">
              Vote Kandidat 1
            </button>
          </div>
        </div>
      </div>

      <!-- Kandidat 2 -->
      <div class="col-md-4">
        <div class="candidate-card h-100">
          <img src="gibran.png">
          <div class="p-4">
            <h5 class="text-center mb-3">Kandidat 2</h5>
             <p><strong>Visi:</strong> Pemimpin inovatif.</p>
            <ul>
              <li>Meningkatkan kualitas</li>
              <li>Mengayomi anggota</li>
            </ul>
            <p><strong>misi:</strong> </p>
            <ul>
              <li>Meningkatkan kualitas</li>
              <li>Mengayomi anggota</li>
            </ul>
            <button class="btn btn-success w-100 btn-vote"
              onclick="openConfirm('kandidat2','Kandidat 2')">
              Vote Kandidat 2
            </button>
          </div>
        </div>
      </div>

      <!-- Kandidat 3 -->
      <div class="col-md-4">
        <div class="candidate-card h-100">
          <img src="jokowi.jpeg">
          <div class="p-4">
            <h5 class="text-center mb-3">Kandidat 3</h5>
             <p><strong>Visi:</strong> Pemimpin inovatif.</p>
            <ul>
              <li>Meningkatkan kualitas</li>
              <li>Mengayomi anggota</li>
            </ul>
            <p><strong>misi:</strong> </p>
            <ul>
              <li>Meningkatkan kualitas</li>
              <li>Mengayomi anggota</li>
            </ul>
            <button class="btn btn-warning w-100 btn-vote"
              onclick="openConfirm('kandidat3','Kandidat 3')">
              Vote Kandidat 3
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- MODAL -->
<div class="modal fade" id="confirmModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-dark">
      <div class="modal-header">
        <h5 class="modal-title">Konfirmasi Voting</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        Apakah Anda yakin memilih <strong id="candidateName"></strong>?
        <p class="text-danger mt-2">‚ö†Ô∏è Pilihan tidak dapat diubah</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
        <button class="btn btn-primary" onclick="confirmVote()">Ya, Vote</button>
      </div>
    </div>
  </div>
</div>

<footer>
  ¬© 2026 PASKAPADA Digital
</footer>

<script>
  let selectedChoice = "";
  let modal;

  function openConfirm(choice, name) {
    const token = document.getElementById("token").value.trim();
    if (!token) {
      alert("Silakan masukkan token terlebih dahulu");
      return;
    }
    selectedChoice = choice;
    document.getElementById("candidateName").innerText = name;
    modal = new bootstrap.Modal(document.getElementById("confirmModal"));
    modal.show();
  }

  async function confirmVote() {
    const token = document.getElementById("token").value.trim();

    try {
      const res = await fetch("/vote", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ token, choice: selectedChoice })
      });

      const data = await res.json();

      if (!res.ok) {
        alert(data.message);
        return;
      }

      alert("Voting berhasil!");
      window.location.href = "success.html";
    } catch {
      alert("Gagal menghubungi server");
    }
  }
</script>

</body>
</html>
